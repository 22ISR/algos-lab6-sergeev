"""
Практическая работа: Создание игры «Виселица»

Цель: Научиться применять основы алгоритмизации и программирования, включая использование циклов, условных конструкций, работы со строками и списками.
Задачи для выполнения:

    Создать базовую структуру программы
        Определите основную цель игры и опишите её в комментариях.
        Подсказка: Используйте функцию def main(): как точку входа в вашу программу.

    Подготовить список слов
        Создайте массив (список) из нескольких слов, которые будут использоваться в игре.
        Подсказка: Для начала можете использовать 5–10 слов, чтобы протестировать программу.

    Выбор случайного слова
        Программа должна выбирать случайное слово из списка при каждом запуске.
        Подсказка: Используйте модуль random и функцию random.choice().

    Реализовать отображение текущего состояния слова
        Добавьте отображение текущего состояния угадывания: например, "слово: _ _ _ _".
        Подсказка: Используйте строки или списки для хранения угаданных символов.

    Обработка ввода пользователя
        Добавьте запрос ввода одной буквы от игрока.
        Подсказка: Проверьте корректность ввода — игрок должен вводить только одну букву.

    Проверка буквы
        Реализуйте проверку, есть ли введённая буква в загаданном слове.
        Подсказка: Используйте цикл for, чтобы пройтись по всем символам загаданного слова.

    Обновление состояния игры
        Если буква угадана, обновите текущее состояние слова.
        Если буква не угадана, уменьшите количество оставшихся попыток.
        Подсказка: Используйте переменную для отслеживания оставшихся попыток.

    Отображение виселицы
        Реализуйте визуальное отображение виселицы, которое обновляется с каждой ошибкой.
        Подсказка: Используйте список строк (HANGMANPICS), где каждая строка — новая стадия виселицы.

    Проверка окончания игры
        Добавьте проверку, угадал ли игрок слово или закончились попытки.
        Подсказка: Используйте условные конструкции if для проверки победы или поражения.

    Реализовать повтор игры
        После окончания игры предложите игроку сыграть снова.
        Подсказка: Используйте цикл while и запрос на ввод "Хотите сыграть снова? (да/нет)".
"""

HANGMANPICS = [
    """
  +---+
  |   |
      |
      |
      |
      |
=========""",
    """
  +---+
  |   |
  O   |
      |
      |
      |
=========""",
    """
  +---+
  |   |
  O   |
  |   |
      |
      |
=========""",
    """
  +---+
  |   |
  O   |
 /|   |
      |
      |
=========""",
    """
  +---+
  |   |
  O   |
 /|\\  |
      |
      |
=========""",
    """
  +---+
  |   |
  O   |
 /|\\  |
 /    |
      |
=========""",
    """
  +---+
  |   |
  O   |
 /|\\  |
 / \\  |
      |
=========""",
]

COMMON_NOUNS = [
    "время",
    "человек",
    "год",
    "дело",
    "день",
    "рука",
    "раз",
    "город",
    "слово",
    "место",
    "лицо",
    "друг",
    "глаз",
    "вопрос",
    "дом",
    "сторона",
    "страна",
    "мир",
    "случай",
    "голова",
    "ребёнок",
    "сила",
    "конец",
    "вид",
    "система",
    "часть",
    "работа",
    "жизнь",
    "власть",
    "женщина",
    "дорога",
    "образ",
    "отец",
    "история",
    "нога",
    "вода",
    "война",
    "любовь",
    "минута",
    "право",
    "небо",
    "сын",
    "душа",
    "утро",
    "вечер",
    "месяц",
    "комната",
    "ночь",
    "мать",
    "утро",
    "вещь",
    "цель",
    "народ",
    "сердце",
    "шаг",
    "девушка",
    "машина",
    "уровень",
    "окно",
    "ответ",
    "условие",
    "начало",
    "свет",
    "действие",
    "век",
    "школа",
    "газета",
    "плечо",
    "путь",
    "дверь",
    "язык",
    "любовь",
    "порядок",
    "автор",
    "гость",
    "закон",
    "число",
    "идея",
    "смерть",
    "сон",
    "ресурс",
    "лес",
    "проблема",
    "искусство",
    "река",
    "проект",
    "журнал",
    "стена",
    "товарищ",
    "книга",
    "письмо",
    "помощь",
    "группа",
    "участие",
]
import random

print(f'Добро пожаловтаь в игру \"Виселица\". \nВ игре присутствует 7 уровней сложности. 1lvl - слово из 3 букв. 7lvl - слово из 9 букв')
Level = int(input("Введите сложность(длину слова) в игре: "))

def main(Level, game_mode = True):
    
    # тело игры
    while game_mode:
        print(f'Ваш уровень сложности: {Level} \n__________________________________________________________')
        answer_result = "_" # вывод интерфейса игры
        live = 0 # счетчик
        LEVEL_COMMON_NOUNS =[] # уровень сложности
        letter = [] # список использованных букв

        # создание массива слов конкретной длины
        for i in range(len(COMMON_NOUNS)):
            if len(COMMON_NOUNS[i]) == Level+2:
                LEVEL_COMMON_NOUNS.append(COMMON_NOUNS[i])

        answer = random.choice(LEVEL_COMMON_NOUNS)

        while len(answer_result) != len(answer)*2-1:
            answer_result += " _"
        print(answer_result)
        answer = list(answer)


        while live < 8:
            #проверка на готовность ответить
            Game_sit = input("Готовы ли ответить? (yes/no) \n")
            if Game_sit == 'yes':
                guess = ''
                while len(guess) != len(answer):
                    guess = input("Введите вашу догадку: ")
                if guess == ''.join(answer):
                    print("__________________________________________________________ \nПобеда \n__________________________________________________________")
                    live = 8
                    break
                else:
                    print('__________________________________________________________ \nGameOver \n__________________________________________________________')
                    live = 8
                    break
            elif Game_sit == 'no':
                guess = ''
                while (len(guess) != 1):
                    guess = input("Введите вашу догадку: ")
                if guess in letter:
                    print(f"Эта буква уже была.\n Вот списко уже использованных букв: {letter} \n__________________________________________________________")
                    continue
                else:
                    letter.append(guess)

                # цикл проверки буквы и вывод результата
                for i in range (len(answer)):
                    if guess in answer:
                        if guess == answer[i]:
                            answer_result = list(answer_result)
                            answer_result[i*2] = guess
                            answer_result = ''.join(answer_result)
                            print(f"{answer_result} \n__________________________________________________________")
                    else:
                        print(HANGMANPICS[live])
                        print(f"{answer_result} \n__________________________________________________________")
                        live += 1
                        break
            
            #Конец игры
            if live == 7:
                live += 1
                print("GameOver \n__________________________________________________________")
                
        game_mode = input("Пограем ещё? \n")
        if game_mode == 'no':
            game_mode == False
        else:
            game_mode == True
            Level = int(input("Введите сложность(длину слова) в игре: "))
        main(Level)
main(Level)